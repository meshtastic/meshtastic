---
id: power
title: Energieeinstellungen
sidebar_label: Energie
description: Einstellungen f√ºr fortgeschrittene Benutzer, die die Energiekonfiguration ihres Meshtastic Ger√§tes anpassen m√∂chten.
---

import Admonition from "@theme/Admonition";
import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import { Icon } from "@iconify/react";
import calculateADC from "/src/utils/calculateADC";

:::info Ger√§tekonfiguration zuerst verwenden
Energieeinstellungen sind erweiterte Konfiguration. Die meisten Benutzer sollten unter [Ger√§teeinstellungen](/docs/configuration/radio/device) eine Rolle w√§hlen, um die Energiemerkmale f√ºr ihr Ger√§t zu verwalten und sollten diese Einstellungen nicht anpassen m√ºssen.
:::

Die Energieeinstellungen sind: Energiesparen, Herunterfahren bei niedriger Spannung, ADC Multiplikator, Warten auf Bluetooth Intervall, Intervall des Ruhemodus, minimaler Weckintervall und I2C Adresse eines INA2xx Stromsensors. Die Energiekonfiguration verwendet eine administrative Nachricht, die einen `Config.Power` Protocol Buffer sendet.

## Energieeinstellungen

### Energiesparen

:::warning
Wenn aktiviert, k√∂nnen √Ñnderungen an den Einstellungen vorgenommen werden, indem das Ger√§t durch Dr√ºcken der Benutzertaste geweckt wird, zur√ºckgesetzt wird oder durch [administrative Nachrichten](/docs/configuration/remote-admin/) mit der Fernverwaltung.
:::

Bei Aktivierung dieser Funktion werden Bluetooth, serielle Schnittstelle, WLAN und die Anzeige des Ger√§tes abgeschaltet, um Strom zu sparen. Dies ist besonders vorteilhaft f√ºr Ger√§te, die sich auf Stromquellen mit geringer Stromerzeugung, wie Solarzellen, st√ºtzen. F√ºr Details, welche Ger√§terollen diese Funktion standardm√§√üig aktiviert haben, pr√ºfen Sie bitte den Abschnitt [Ger√§tekonfiguration](/docs/configuration/radio/device).

### Herunterfahren nach Verlust der Stromversorgung

Ein Ger√§t automatisch nach einer definierten Zeitspanne heruntergefahren, wenn die Stromversorgung verloren geht.

Bevor Sie dies einstellen, stellen Sie sicher, dass Ihr Board korrekt erkennt, wann es mit externer Spannungsversorgung verbunden ist (das "üîå"-Symbol in der App). Andernfalls k√∂nnte Ihr Ger√§t auch bei vorhandener Stromversorgung herunterfahren.
Viele Ger√§te erkennen den Energiestatus korrekt. F√ºr einige Ger√§te m√ºssen Sie jedoch den ADC Multiplikator (unten) modifizieren.

### ADC Multiplikationsfaktor

Verh√§ltnis des Spannungsteilers f√ºr Akkuladung z.B. 3,20 (R1=100k, R2=220k)

√úberschreibt den ADC Multiplikator in der Firmware Datei der Ger√§tevariante zur Berechnung der Akkuspannung.

Sollte auf Flie√ükommawert zwischen 2 und 6 gesetzt werden

#### Kalibrierungsprozess ([Attribution](https://wiki.uniteng.com/en/meshtastic/nano-g1-explorer#calibration-process))

1. Installieren Sie einen wiederaufladbaren Akkus.
2. Laden Sie den Akku bis er voll ist. Die Angabe dieses Zustands kann je nach Ger√§t variieren. An diesem Punkt sollte die Batteriespannung 4,2 V +-1 % betragen.
3. Geben Sie die "Akkuladung in Prozent" auf der Anzeige oder in Ihrer verbundenen App in den Rechner unten ein.
4. Wenn "Akkuladung Prozent" (z.B. 3,2 V 60 %) nicht angezeigt wird, dann bedeutet das, dass der Standardwert des aktuellen ADC Multiplikators zu hoch ist. Verringern Sie den ADC Multiplikator auf eine kleinere Zahl (um 0,1 wird empfohlen), bis "Akkuladung Prozent" angezeigt wird. Geben Sie den aktuellen ADC Multiplikator in das Feld "Operative Adc Multiplikator" im Rechner ein. Geben Sie auch die angezeigte "Akkuladung Prozent" in den Rechner ein.
5. Klicken Sie auf die Schaltfl√§che "Berechnen" um den neuen ADC Multiplikator zu berechnen und setzen Sie ihn als den neuen "Operativen Adc Multiplikator" f√ºr das Ger√§t ein.

<div class="no-print">
  <details>
    <summary>ADC Rechner</summary>
    <div>
      <Admonition type="info">
        <p>Diese Methode kalibriert 4.2V zu 100% Akkuladezustand und ber√ºcksichtigt nicht die Unlinearit√§ten des ADC.</p>
      </Admonition>
      <table>
        <tr>
          <td> Akkuladezustand %: </td>
          <td>
            <input type="text" id="batteryChargePercent" defaultValue="65" />
          </td>
        </tr>
        <tr>
          <td>Aktueller ADC Multiplikator: </td>
          <td>
            <input type="text" id="operativeAdcMultiplier" defaultValue="2" />
          </td>
        </tr>
        <tr>
          <td>Neuen ADC Multiplikator berechnen: </td>
          <td>
            <input
              type="text"
              id="newOperativeAdcMultiplier"
              value="2"
              disabled="disabled"
            />
          </td>
        </tr>
        <tr>
          <td></td>
          <td>
            <button
              className="button button--outline  button--lg cta--button"
              onClick={calculateADC}
            >
              Berechnen
            </button>
          </td>
        </tr>
      </table>
      Die Standardwerte f√ºr den ADC Multiplikator sind:

```
  |  Ger√§t   | Standard ADC Multiplikator |
  | :------: | :------------------------: |
  | chatter2 | 5.0 |
  | diy | 1.85 |
  | esp32-s3-pico | 3.1 |
  | heltec_v1 & heltec_v2 | 3.2 |
  | heltec_v3 & heltec_wsl_v3 | 4.9 |
  | heltec_wireless_paper | 2 |
  | heltec_wireless_tracker 1.0/1.1 | 4.9 |
  | heltec_T114 | 4.916 |
  | lora_isp4520 | 1.436 |
  | m5stack_coreink | 5 |
  | nano-g1-explorer | 2 |
  | nano-g2-ultra | 2 |
  | picomputer-s3 | 3.1 |
  | rak4631 | 1.73 |
  | rpipico | 3.1 |
  | rpipicow | 3.1 |
  | station-g1 | 6.45 |
  | station-g2 | 4 |
  | tlora_v2_1_16 | 2 |
  | tlora_v2_1_18 | 2.11 |
  | tlora_t3s3_v1 | 2.11 |
  | t-deck | 2.11 |
  | t-echo | 2 |
```

    </div>

</details>
</div>

### Warte auf Bluetooth Intervall

Dauer bis BLE in den Zustand kein Bluetooth geschaltet wird

`0` f√ºr Standard 1 Minute

### Leichter Ruhemodus Intervall

:::info Nur f√ºr ESP32
Diese Einstellung gilt nur f√ºr ESP32 basierte Platinen, sie hat keinen Effekt auf nRF52/RP2040/RP2350 Platinen.
:::

Im leichten Ruhemodus ist die CPU inaktiv, LoRa Funk ist eingeschaltet, BLE ist ausgeschaltet und GPS ist aktiviert

`0` f√ºr Standard von 5 Minuten

### Minimaler Weckintervall

Werden im leichten Ruhemodus Pakete im LoRa Funk empfangen, werden sie von der CPU behandelt und wird f√ºr diesen Intervall im Bluetooth-Modus aktiv bleiben.

`0` f√ºr standardm√§√üig 10 Sekunden

### INA2xx Adresse des Stromsensors im Ger√§t

Wird an der angegebenen Adresse ein INA2xx Sensor automatisch an einem der I2C-Busse erkannt, dann wird er als die ma√ügebliche Quelle f√ºr die Messung der Batteriespannung und des Stromes verwendet. Einstellung wird f√ºr Ger√§te mit PMU ignoriert (z.B. T-Beams)

:::tip[Convert hexadezimal zu dezimal]
I2C-Adressen werden normalerweise in Hexadezimalen dargestellt und erfordern eine Konvertierung in Dezimalstellen, um sie √ºber die Meshtastic App einzustellen. Zum Beispiel ist die I2C-Adresse von 0x40 in Dezimalzahl 64 konvertiert.
:::

## Verf√ºgbarkeit der Energieeinstellungen

<Tabs
  groupId="settings"
  defaultValue="apple"
  values={[
    {
      label: (
        <>
          <Icon icon="mdi:android" height="1.5rem" style={{ marginRight: "0.25rem" }} /> Android
        </>
      ),
      value: "android",
    },
    {
      label: (
        <>
          <Icon icon="mdi:apple" height="1.5rem" style={{ marginRight: "0.25rem" }} /> Apple
        </>
      ),
      value: "apple",
    },
    {
      label: (
        <>
          <Icon icon="mdi:terminal" height="1.5rem" style={{ marginRight: "0.25rem" }} />Kommandozeile
        </>
      ),
      value: "cli",
    },
    {
      label: (
        <>
          <Icon icon="mdi:internet" height="1.5rem" style={{ marginRight: "0.25rem" }} /> Web
        </>
      ),
      value: "web",
    },
  ]}>

<TabItem value="android">

#### Android

:::info

Alle Energieeinstellungen sind f√ºr Android verf√ºgbar.

1. √ñffnen Sie die Meshtastic Applikation
2. Navigiere zu: **vertikale Ellipse (3 Punkte oben rechts) > Ger√§tekonfiguration > Energie**

:::

</TabItem>
<TabItem value="apple">

#### Apple

:::info

Die Energieeinstellungen sind in iOS, iPadOS und macOS unter Einstellungen > Ger√§tekonfiguration > Energie.

:::

</TabItem>
<TabItem value="cli">

#### Kommandozeile

:::info

Alle Energieeinstellungen sind √ºber die Python Kommandozeile verf√ºgbar.

:::

|      Einstellung                     |      Akzeptable Werte              |          Standardwert                        |
| :----------------------------------: | :--------------------------------: | :------------------------------------------: |
|     power.is_power_saving            |      `true`, `false`               |             `false`                          |
| power.on_battery_shutdown_after_secs |     Ganzzahl (Sekunden)            |   Standard von `0` ist ausgeschaltet         |
|   power.adc_multiplier_override      |      `2-4` (Flie√ükommawert)        |   Standard von `0` verwendet Firmware-Werte  |
|    power.wait_bluetooth_secs         |     Ganzzahl (Sekunden)            |      Standard von `0` ist 1 Minute           |
|       power.ls_secs                  |     Ganzzahl (Sekunden)            |      Standard von `0` ist 5 Minuten          |
|     power.min_wake_secs              |     Ganzzahl (Sekunden)            |     Standard von `0` ist 10 Sekunden         |
|  power.device_battery_ina_address    | Ganzzahl (I2C-Adresse als Dezimal) | Standard von `0` ist keine Adresse gesetzt   |

:::tip

Weil das Ger√§t nach jedem Befehl √ºber die Kommandozeile neu startet, wird empfohlen, dass mehrere Werte in einem Konfigurationsblock zusammengefasst und √ºbertragen werden.

```shell title="Example:"
meshtastic --set power.is_power_saving true --set power.on_battery_shutdown_after_secs 120
```

:::

```shell title="Enable / Disable Power Saving"
meshtastic --set power.is_power_saving true
meshtastic --set power.is_power_saving false
```

```shell title="Enable / Disable Shutdown after losing power"
meshtastic --set power.on_battery_shutdown_after_secs 120
meshtastic --set power.on_battery_shutdown_after_secs 0
```

```shell title="Set  Wait Bluetooth Interval  (Default of 0 is 60 seconds)"
meshtastic --set power.wait_bluetooth_secs 0
meshtastic --set power.wait_bluetooth_secs 120
```

```shell title="Set Light Sleep to default (Default of 0 is 5 minutes)"
meshtastic --set power.ls_secs 0
meshtastic --set power.ls_secs 120
```

```shell title="Set Minimum Wake Interval (Default of 0 is 10 seconds)"
meshtastic --set power.min_wake_secs 0
meshtastic --set power.min_wake_secs 120
```

</TabItem>
<TabItem value="web">

#### Web

:::info
Alle Energieeinstellungen sind in der Web-Oberfl√§che verf√ºgbar.
:::

</TabItem>
</Tabs>
