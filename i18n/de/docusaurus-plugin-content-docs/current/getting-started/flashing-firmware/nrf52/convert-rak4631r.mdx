---
id: convert-rak4631r
title: RAK4631-R zu RAK4631 konvertieren
sidebar_label: RAK4631-R konvertieren
sidebar_position: 4
description: Anweisungen zum Konvertieren des RAK4631-R in RAK-4631 mit Python und adafruit-nrfutil.
---

Der einzige Unterschied zwischen dem _RAK4631-R_ (RUI3) und dem _RAK4631_ (Arduino) ist der mitgelieferte Bootloader - die Hardware ist dieselbe.

Meshtastic benötigt den Arduino Bootloader auf RAK WisBlock nRF52 basierten Platinen, um diese zu starten. Der Prozess zur Konvertierung des Bootloaders muss nur einmal durchgeführt werden.

Hier sind zwei Möglichkeiten, den Bootloader zu programmieren:

## USB Geräte-Firmware Aktualisierung (DFU)

1. [Python](https://www.python.org/downloads/) installieren
2. Installieren Sie das [adafruit-nrfutil](https://github.com/adafruit/Adafruit_nRF52_nrfutil)
   ```shell
   pip3 install adafruit-nrfutil
   ```
3. Laden Sie den erforderlichen Bootloader herunter: [WisCore_RAK4631_Board_Bootloader.zip](https://github.com/RAKWireless/WisBlock/releases/download/0.4.2/WisCore_RAK4631_Board_Bootloader.zip)
4. Verbinden Sie Ihr RAK Gerät über USB.
5. Bootloader programmieren
   ```shell
   adafruit-nrfutil --verbose dfu serial --package ./WisCore_RAK4631_Board_Bootloader.zip  -p /dev/ttyACM0 -b 115200 --singlebank --touch 1200
   ```
   Hinweis: Der Name des seriellen Anschluss (`/dev/ttyACM0`) kann je nach Betriebssystem variieren. Stellen Sie sicher, dass Sie den richtigen Anschlussnamen für Ihr Gerät finden.
6. Fahren Sie mit der normalen [Programmieranweisung](/docs/getting-started/flashing-firmware/nrf52/drag-n-drop) fort.

### Extra RUI3 Schritte

Wenn die oben genannten Schritte mit fehlschlagen, wie z.B.:

```bash
Touched serial port COM11
Opened serial port COM11
Starting DFU upgrade of type 2, SoftDevice size: 0, bootloader size: 39000, application size: 0
Sending DFU start packet
Timed out waiting for acknowledgement from device.
Failed to upgrade target. Error is: No data received on serial port. Not able to proceed.
```

Sie müssen dem ersten Teil (über den Befehl „AT+BOOT“) der Anweisungen zum [Konvertieren von RAK4631-R in RAK4631](https://docs.rakwireless.com/product-categories/wisblock/rak4631-r/dfu/#converting-rak4631-r-to-rak4631) folgen.

## Debugger

Diese Konvertierung erfordert entweder einen [DAPLink](https://daplink.io/) oder [J-Link](https://www.segger.com/products/debug-probes/j-link/) Debugger. Der mit dem günstigsten Preis verfügbare ist der [RAKDAP1](https://msh.to/rakdap1/).

1. [Python](https://www.python.org/downloads/) installieren
2. [pyOCD](https://pyocd.io/) installieren
   ```shell
   pip3 install pyocd
   ```
3. Laden Sie den erforderlichen Bootloader herunter: [WisCore_RAK4631_Board_Bootloader.hex](https://github.com/RAKWireless/WisBlock/releases/download/0.4.2/WisCore_RAK4631_Board_Bootloader.hex)
4. Verbinde das RAKDAP wie folgt:
   [<img src="/img/rak4631-rakdap1.webp" style={{zoom:'25%'}} />](/img/rak4631-rakdap1.webp)
5. Bootloader programmieren
   ```shell
   pyocd flash -t nrf52840 .\WisCore_RAK4631_Board_Bootloader.hex
   ```
6. Fahren Sie mit normalen [Programmieranweisung](/docs/getting-started/flashing-firmware/nrf52/drag-n-drop) fort.

Alternative Programmiermethoden werden [hier](https://github.com/RAKWireless/WisBlock/tree/master/bootloader/RAK4630) beschrieben.
