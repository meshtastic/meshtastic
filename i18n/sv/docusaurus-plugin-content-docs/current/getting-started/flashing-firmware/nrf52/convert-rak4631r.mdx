---
id: convert-rak4631r
title: Konvertera RAK4631-R till RAK4631
sidebar_label: Konvertera RAK4631-R
sidebar_position: 4
description: Instruktioner för att konvertera RAK4631-R till RAK-4631 med hjälp av Python och adafruit-nrfutil.
---

Den enda skillnaden mellan _RAK4631-R_ (RUI3) och _RAK4631_ (Arduino) är starthanteraren den levereras med - hårdvaran är densamma.

Meshtastic kräver Arduino bootloader på RAK WisBlock nRF52-baserade kort. Processen att konvertera behöver bara utföras en gång.

Här är två sätt att installera Arduino bootloader:

## Uppgradering av inbyggd programvara med USB (DFU)

1. Installera [Python](https://www.python.org/downloads/)
2. Installera [adafruit-nrfutil](https://github.com/adafruit/Adafruit_nRF52_nrfutil)
   ```shell
   pip3 install adafruit-nrfutil
   ```
3. Ladda ner önskad Arduino bootloader: [WisCore_RAK4631_Board_Bootloader.zip](https://github.com/RAKWireless/WisBlock/releases/download/0.4.2/WisCore_RAK4631_Board_Bootloader.zip)
4. Anslut din RAK-enhet via USB.
5. Programmera bootloader
   ```shell
   adafruit-nrfutil --verbose dfu serial --package ./WisCore_RAK4631_Board_Bootloader.zip  -p /dev/ttyACM0 -b 115200 --singlebank --touch 1200
   ```
   OBS: Namnet på serieporten (`/dev/ttyACM0`) kan skilja sig åt beroende på ditt operativsystem. Se till att identifiera rätt portnamn för din konfiguration.
6. Fortsätt med den vanliga [installationsinstruktionen](/docs/getting-started/flashing-firmware/nrf52/drag-n-drop)

### Extra RUI3-steg

Om ovanstående misslyckas med fel såsom:

```bash
Touched serial port COM11
Opened serial port COM11
Starting DFU upgrade of type 2, SoftDevice size: 0, bootloader size: 39000, application size: 0
Sending DFU start packet
Timed out waiting for acknowledgement from device.
Failed to upgrade target. Error is: No data received on serial port. Not able to proceed.
```

Måste du följa den första delen (fram till kommandot `AT+BOOT`) i instruktionerna [Konvertera RAK4631-R till RAK4631](https://docs.rakwireless.com/product-categories/wisblock/rak4631-r/dfu/#converting-rak4631-r-to-rak4631) .

## Debugger

Denna konvertering kräver användning av antingen en [DAPLink](https://daplink.io/) eller [J-Link](https://www.segger.com/products/debug-probes/j-link/). The most reasonably priced and available is the [RAKDAP1](https://msh.to/rakdap1/).

1. Installera [Python](https://www.python.org/downloads/)
2. Installera [pyOCD](https://pyocd.io/)
   ```shell
   pip3 install pyocd
   ```
3. Ladda ner önskad bootloader: [WisCore_RAK4631_Board_Bootloader.hex](https://github.com/RAKWireless/WisBlock/releases/download/0.4.2/WisCore_RAK4631_Board_Bootloader.hex)
4. Anslut RAKDAP så här:
   [<img src="/img/rak4631-rakdap1.webp" style={{zoom:'25%'}} />](/img/rak4631-rakdap1.webp)
5. Programmera bootloader
   ```shell
   pyocd flash -t nrf52840 .\WisCore_RAK4631_Board_Bootloader.hex
   ```
6. Fortsätt med den vanliga [installationsinstruktionen](/docs/getting-started/flashing-firmware/nrf52/drag-n-drop)

Alternativa metoder för installation beskrivs [här](https://github.com/RAKWireless/WisBlock/tree/master/bootloader/RAK4630).
