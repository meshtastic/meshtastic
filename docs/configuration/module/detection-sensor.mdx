---
id: detection-sensor
title: Detection Sensor Module Usage
sidebar_label: Detection Sensor
description: Configuration details for the Detection Sensor Module of your Meshtastic device. Used for motion, reed, and other open/closed gate systems.
---

import { Icon } from "@iconify/react";
import { CompatibilityIcons } from '@site/src/components/CompatibilityIcons';

The Detection Sensor module allows you to configure a GPIO pin to be monitored for a specified high/low status and send text alerts over the Detection Sensor portnum when an event is detected. This is particularly useful for motion detection sensors, reed switches, and other open / closed state systems in which notifications over the mesh are desired. Config options are: Enabled, Minimum Broadcast Interval, State Broadcast Interval, Send Bell, Name, Monitor Pin, Detection Triggered High, and Use Pull-up.

In order to use this module, make sure your devices have firmware version 2.2.2 or higher.

## Detection Sensor Module Config Values

### Enabled <CompatibilityIcons configKey="detection_sensor_enabled" />

Whether the Module is enabled.

### Minimum Broadcast Interval <CompatibilityIcons configKey="detection_sensor_minimum_broadcast_secs" />

The interval in seconds of how often we can send a message to the mesh when a state change is detected.

### State Broadcast Interval <CompatibilityIcons configKey="detection_sensor_state_broadcast_secs" />

The interval in seconds of how often we should send a message to the mesh with the current state regardless of changes, When set to 0, only state changes will be broadcasted, Works as a sort of status heartbeat for peace of mind.

### Send Bell <CompatibilityIcons configKey="detection_sensor_send_bell" />

Send ASCII bell with alert message. Useful for triggering ext. notification on bell
name.

### Friendly Name <CompatibilityIcons configKey="detection_sensor_name" />

Used to format the message sent to mesh. Example: A name "Motion" would result in a message "Motion detected". Maximum length of 20 characters.

### Monitor Pin <CompatibilityIcons configKey="detection_sensor_monitor_pin" />

The GPIO pin to monitor for state changes.

### Detection Triggered High <CompatibilityIcons configKey="detection_sensor_detection_trigger_type" />

Whether or not the GPIO pin state detection is triggered on HIGH (1), otherwise LOW (0).

### Use Pull-up <CompatibilityIcons configKey="detection_sensor_use_pullup" />

Whether or not use INPUT_PULLUP mode for GPIO pin. Only applicable if the board uses pull-up resistors on the pin.

## CLI Examples

```shell title="Enable/Disable the Detection Sensor Module"
meshtastic --set detection_sensor.enabled true
meshtastic --set detection_sensor.enabled false
```

```shell title="Set the Minimum Broadcast Interval to 90 seconds"
meshtastic --set detection_sensor.minimum_broadcast_secs 90
```

```shell title="Set the State Broadcast Interval to 5 minutes"
meshtastic --set detection_sensor.state_broadcast_secs 300
```

```shell title="Enable/Disable Send Bell"
meshtastic --set detection_sensor.send_bell true
meshtastic --set detection_sensor.send_bell false
```

```shell title="Set the friendly name to 'motion'"
meshtastic --set detection_sensor.name "motion"
```

```shell title="Set the Monitor Pin to 7"
meshtastic --set detection_sensor.monitor_pin 7
```

```shell title="Enable Notifications when the Monitor Pin goes HIGH"
meshtastic --set detection_sensor.detection_triggered_high true
```

```shell title="Enable Notifications when the Monitor Pin goes LOW"
meshtastic --set detection_sensor.detection_triggered_high false
```

```shell title="Enable the use INPUT_PULLUP mode"
meshtastic --set detection_sensor.use_pullup true
```

```shell title="Get the Detection Sensor Module Configuration"
meshtastic --get detection_sensor
```