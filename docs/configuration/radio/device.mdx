---
id: device
title: Device Configuration
sidebar_label: Device
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

The device config options are: Role, Serial Output, and Debug Log. Device config uses an admin message sending a `Config.Device` protobuf.

## Device Config Values

### Role

Sets the role of the node.

Acceptable values:

|      Value      | Descrption                              | Role Details                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| :-------------: | :-------------------------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|    `CLIENT`     | Standard node                           | This role will follow the standard routing rules, while also allowing the device to interact with client applications via BLE/Wi-Fi (Android/Apple/Web/etc).                                                                                                                                                                                                                                                                                     |
|  `CLIENT_MUTE`  | Dead-end node (sends own messages only) | Same as a client except packets will not hop over this node, does not contribute to routing packets for mesh.                                                                                                                                                                                                                                                                                                                                    |
|    `ROUTER`     | Relay node                              | Acts like a powerful relay station, intended to be placed in high or open areas with better signal coverage. It helps pass messages across the network efficiently as other nodes will prioritize routing to this node first. This device won't interact with client apps and conserves energy by turning off certain features like Bluetooth, Wi-Fi, and the screen. _Note_: It might use more power due to its active role in message routing. |
|   `REPEATER`    | Invisible Relay node                    | Relay node which also simplifies the network by not participating in regular network activities like sending its own status or telemetry, making it invisible in the network list. This role is great for creating a more streamlined and efficient network. _Note_: It can only repeat messages that match its own channel and modem settings. Please see Rebroadcast Mode for additional settings specific to this role.                       |
| `ROUTER_CLIENT` | Standard + Relay node hybrid            | Hybrid of the Client and Router roles. Similar to Router, except the Router Client can be used as both a Router and an app connected Client. BLE/Wi-Fi and OLED screen will not be put to sleep.                                                                                                                                                                                                                                                 |
|    `TRACKER`    | GPS Tracker Node                        | For use with devices intended as a GPS tracker. Position packets sent from this device will be higher priority. Smart Position Broadcast will default to the currently configured settings.                                                                                                                                                                                                                                                      |
|    `SENSOR`     | Sensor Node                             | Sensor - For use with devices intended to primarily collect sensor readings. Telemetry packets sent from this device will be higher priority, broadcasting every five minutes.                                                                                                                                                                                                                                                                   |

### Rebroadcast Mode

This setting defines the device's behavior for how messages are rebroadcasted.

|        Value        |                                                                                      Description                                                                                       |
| :-----------------: | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: |
|        `ALL`        |   ALL (Default) - This setting will rebroadcast ALL messages from its primary mesh as well as other meshes with the same modem settings, including when encryption settings differ.    |
| `ALL_SKIP_DECODING` |                      ALL_SKIP_DECODING - Same as behavior as ALL, but skips packet decoding and simply rebroadcasts them. **Only available with Repeater role.**                       |
|    `LOCAL_ONLY`     | LOCAL_ONLY - Ignores observed messages from foreign meshes that are open or those which it cannot decrypt. Only rebroadcasts message on the nodes local primary / secondary channels.  |
|    `KNOWN_ONLY`     | KNOWN_ONLY - Ignores observed messages from foreign meshes like LOCAL_ONLY, but takes it a step further by also ignoring messages from nodenums not in the node's known list (NodeDB). |

### Serial Console

Acceptable values: `true` or `false`

Disabling this will disable the SerialConsole by not initializing the StreamAPI.

### Debug Log

Acceptable values: `true` or `false`

By default we turn off logging as soon as an API client connects. Set this to true to leave the debug log outputting even when API is active.

### GPIO for user button

This is the GPIO pin number that will be used for the user button, if your device does not come with a predefined user button.

### GPIO for PWM Buzzer

This is the GPIO pin number that will be used for the PWM buzzer, if your device does not come with a predefined buzzer.

### Node Info Broadcast Seconds

This is the number of seconds between NodeInfo message broadcasts from the device. The device will still respond ad-hoc to NodeInfo messages when a response is wanted.

### Double Tap as Button Press

This option will enable a double tap, when a supported accelerometer is attached to the device, to be treated as a button press.

### Managed Mode

Enabling Managed mode will restrict access to all radio configurations via client applications. Radio configurations will only be accessible through the Admin channel. To avoid being locked out, make sure the Admin channel is working properly before enabling it.

## Device Config Client Availability

<Tabs
groupId="settings"
defaultValue="apple"
values={[
{label: 'Android', value: 'android'},
{label: 'Apple', value: 'apple'},
{label: 'CLI', value: 'cli'},
{label: 'Web', value: 'web'},
]}>
<TabItem value="android">

:::info

Device Config is available for Android.

1. Open the Meshtastic App
2. Navigate to: **Vertical Ellipsis (3 dots top right) > Radio Configuration > Device**

:::

</TabItem>
<TabItem value="apple">

:::info
All device config options other than NTP Server are available on iOS, iPadOS and macOS at Settings > Radio Configuration > Device.
:::

</TabItem>
<TabItem value="cli">

:::info

All device config options are available in the python CLI. Example commands are below:

:::

| Setting                           | Acceptable Values                                                                   | Default           |
| --------------------------------- | ----------------------------------------------------------------------------------- | ----------------- |
| device.debug_log_enabled          | `true`, `false`                                                                     | `false`           |
| device.role                       | `CLIENT`, `CLIENT_MUTE`, `ROUTER`, `ROUTER_CLIENT`, `REPEATER`, `TRACKER`, `SENSOR` | `CLIENT`          |
| device.rebroadcast_mode           | `ALL`, `ALL_SKIP_DECODING`, `LOCAL_ONLY`                                            | `ALL`             |
| device.serial_enabled             | `true`, `false`                                                                     | `true`            |
| device.button_gpio                | `0` - `34`                                                                          | `0`               |
| device.buzzer_gpio                | `0` - `34`                                                                          | `0`               |
| device.node_info_broadcast_secs   | `0` - `UINT MAX`                                                                    | `10800` (3 hours) |
| device.double_tap_as_button_press | `false`, `true`                                                                     | `false`           |
| device.is_managed                 | `false`, `true`                                                                     | `false`           |

:::tip

Because the device will reboot after each command is sent via CLI, it is recommended when setting multiple values in a config section that commands be chained together as one.

```shell title="Example:"
meshtastic --set device.role CLIENT --set device.debug_log_enabled true
```

:::

```shell title="Set the role to client"
meshtastic --set device.role CLIENT
```

```shell title="Disable serial console"
meshtastic --set device.serial_enabled false
```

```shell title="Enable debug logging"
meshtastic --set device.debug_log_enabled true
```

</TabItem>
<TabItem value="web">

:::info
All device config options are available in the Web UI.
:::

  </TabItem>
</Tabs>
